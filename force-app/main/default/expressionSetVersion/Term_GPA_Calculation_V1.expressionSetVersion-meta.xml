<?xml version="1.0" encoding="UTF-8"?>
<ExpressionSetDefinitionVersion xmlns="http://soap.sforce.com/2006/04/metadata">
    <decimalScale>2</decimalScale>
    <description>Calculates the grade point average for students enrolled in an academic term.</description>
    <expressionSetDefinition>Term_GPA_Calculation</expressionSetDefinition>
    <interfaceSourceType>GpaCalculationProcedure</interfaceSourceType>
    <label>TermGPACalculationES</label>
    <processType>GpaCalculation</processType>
    <rank>1</rank>
    <shouldShowExplExternally>true</shouldShowExplExternally>
    <startDate>2025-06-13T09:34:09.000Z</startDate>
    <status>Active</status>
    <steps>
        <actionType>AssignParameterValues</actionType>
        <assignment>
            <assignedParameter>ATE_CalculatedTermGradePointAverage__std</assignedParameter>
            <expression>ATE_QualityPoints__std / ATE_UnitsEarned__std</expression>
        </assignment>
        <label>Calculate Academic Term GPA</label>
        <name>CalculateAcademicTermGPA</name>
        <parentStep>ListGroup12</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>3</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>BusinessKnowledgeModel</stepType>
    </steps>
    <steps>
        <actionType>AssignParameterValues</actionType>
        <assignment>
            <assignedParameter>COPR_QualityPoints__std</assignedParameter>
            <expression>COPR_UnitsEarned__std * COPR_NumericGrade__std</expression>
        </assignment>
        <label>Calculate Quality Points</label>
        <name>CalculateQualityPoints</name>
        <parentStep>ListGroup</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>3</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>BusinessKnowledgeModel</stepType>
    </steps>
    <steps>
        <actionType>AssignParameterValues</actionType>
        <assignment>
            <assignedParameter>COP_QualityPoints__std</assignedParameter>
            <expression>LISTAVG ( COPR_QualityPoints__std )</expression>
        </assignment>
        <label>Calculate Roll-Up Quality Points</label>
        <name>CalculateRollUpQualityPoints</name>
        <parentStep>ListGroup</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>4</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>BusinessKnowledgeModel</stepType>
    </steps>
    <steps>
        <actionType>AssignParameterValues</actionType>
        <assignment>
            <assignedParameter>ATE_QualityPoints__std</assignedParameter>
            <expression>LISTSUM ( COP_QualityPoints__std )</expression>
        </assignment>
        <label>Calculate Roll-Up Quality Points</label>
        <name>CalculateRollUpQualityPoints10</name>
        <parentStep>ListGroup7</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>3</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>BusinessKnowledgeModel</stepType>
    </steps>
    <steps>
        <actionType>AssignParameterValues</actionType>
        <assignment>
            <assignedParameter>COP_UnitsEarned__std</assignedParameter>
            <expression>LISTAVG ( COPR_UnitsEarned__std )</expression>
        </assignment>
        <label>Calculate Roll-up Units Earned</label>
        <name>CalculateRollupUnitsEarned</name>
        <parentStep>ListGroup</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>5</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>BusinessKnowledgeModel</stepType>
    </steps>
    <steps>
        <actionType>AssignParameterValues</actionType>
        <assignment>
            <assignedParameter>ATE_UnitsEarned__std</assignedParameter>
            <expression>LISTSUM ( COP_UnitsEarned__std )</expression>
        </assignment>
        <label>Calculate Roll-up Units Earned</label>
        <name>CalculateRollupUnitsEarned11</name>
        <parentStep>ListGroup7</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>4</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>BusinessKnowledgeModel</stepType>
    </steps>
    <steps>
        <actionType>TermGpaReporting</actionType>
        <customElement>
            <parameters>
                <input>true</input>
                <name>StudyYearClassification</name>
                <output>false</output>
                <type>Parameter</type>
                <value>ATE_StudyYearClassification__std</value>
            </parameters>
            <parameters>
                <input>true</input>
                <name>StudentAcademicLevel</name>
                <output>false</output>
                <type>Parameter</type>
                <value>ATE_StudentAcademicLevel__std</value>
            </parameters>
            <parameters>
                <input>true</input>
                <name>CourseOfferingId</name>
                <output>false</output>
                <type>Parameter</type>
                <value>COP_CourseOfferingId__std</value>
            </parameters>
            <parameters>
                <input>true</input>
                <name>ParticipantResultStatus</name>
                <output>false</output>
                <type>Parameter</type>
                <value>COPR_ParticipantResultStatus__std</value>
            </parameters>
            <parameters>
                <input>true</input>
                <name>BatchJobId</name>
                <output>false</output>
                <type>Parameter</type>
                <value>batchJobId</value>
            </parameters>
            <parameters>
                <input>true</input>
                <name>QualityPoints</name>
                <output>false</output>
                <type>Parameter</type>
                <value>COP_QualityPoints__std</value>
            </parameters>
            <parameters>
                <input>true</input>
                <name>LetterGrade</name>
                <output>false</output>
                <type>Parameter</type>
                <value>COPR_LetterGrade__std</value>
            </parameters>
            <parameters>
                <input>true</input>
                <name>NumericGrade</name>
                <output>false</output>
                <type>Parameter</type>
                <value>COPR_NumericGrade__std</value>
            </parameters>
            <parameters>
                <input>true</input>
                <name>TermGradePointAverage</name>
                <output>false</output>
                <type>Parameter</type>
                <value>ATE_CalculatedTermGradePointAverage__std</value>
            </parameters>
            <parameters>
                <input>true</input>
                <name>UnitsEarned</name>
                <output>false</output>
                <type>Parameter</type>
                <value>COP_UnitsEarned__std</value>
            </parameters>
            <parameters>
                <input>true</input>
                <name>StudentId</name>
                <output>false</output>
                <type>Parameter</type>
                <value>ATE_Name__std</value>
            </parameters>
        </customElement>
        <description>Academic Term GPA Calculation Log</description>
        <label>Create Term GPA Calculation Log Report</label>
        <name>CreateTermGPACalculationLogReport</name>
        <parentStep>ListGroup12</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>4</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>BusinessKnowledgeModel</stepType>
    </steps>
    <steps>
        <advancedCondition>
            <conditionLogic>1</conditionLogic>
            <criteria>
                <operator>GreaterThan</operator>
                <sequenceNumber>1</sequenceNumber>
                <sourceFieldName>COP_UnitsEarned__std</sourceFieldName>
                <value>0</value>
                <valueType>Literal</valueType>
            </criteria>
        </advancedCondition>
        <label>Filter Student&apos;s Completed Courses</label>
        <name>FilterStudentsCompletedCourses</name>
        <parentStep>ListGroup7</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>1</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>AdvancedListFilter</stepType>
    </steps>
    <steps>
        <advancedCondition>
            <conditionLogic>1 AND 2</conditionLogic>
            <criteria>
                <operator>Equals</operator>
                <sequenceNumber>1</sequenceNumber>
                <sourceFieldName>ATE_EnrollmentStatus__std</sourceFieldName>
                <value>&apos;Active&apos;</value>
                <valueType>Literal</valueType>
            </criteria>
            <criteria>
                <operator>GreaterThan</operator>
                <sequenceNumber>2</sequenceNumber>
                <sourceFieldName>ATE_UnitsEarned__std</sourceFieldName>
                <value>0</value>
                <valueType>Literal</valueType>
            </criteria>
        </advancedCondition>
        <label>Filter Students Eligible for Term GPA Calculation</label>
        <name>FilterStudentsEligibleforTermGPACalculation</name>
        <parentStep>ListGroup12</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>1</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>AdvancedListFilter</stepType>
    </steps>
    <steps>
        <advancedCondition>
            <conditionLogic>1</conditionLogic>
            <criteria>
                <operator>GreaterThan</operator>
                <sequenceNumber>1</sequenceNumber>
                <sourceFieldName>COPR_UnitsEarned__std</sourceFieldName>
                <value>0</value>
                <valueType>Literal</valueType>
            </criteria>
        </advancedCondition>
        <label>Filter Student&apos;s Graded Courses</label>
        <name>FilterStudentsGradedCourses</name>
        <parentStep>ListGroup</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>1</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>AdvancedListFilter</stepType>
    </steps>
    <steps>
        <label>List Group</label>
        <name>ListGroup</name>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>1</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>ListGroup</stepType>
    </steps>
    <steps>
        <label>List Group</label>
        <name>ListGroup12</name>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>3</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>ListGroup</stepType>
    </steps>
    <steps>
        <label>List Group</label>
        <name>ListGroup7</name>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>2</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>ListGroup</stepType>
    </steps>
    <steps>
        <actionType>AssignParameterValues</actionType>
        <assignment>
            <assignedParameter>ATE_Filtered__std</assignedParameter>
            <expression>true</expression>
        </assignment>
        <label>Set Flag for Filtered Academic Term Enrollments</label>
        <name>SetFlagforFilteredAcademicTermEnrollments</name>
        <parentStep>ListGroup12</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>2</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>BusinessKnowledgeModel</stepType>
    </steps>
    <steps>
        <actionType>AssignParameterValues</actionType>
        <assignment>
            <assignedParameter>COPR_Filtered__std</assignedParameter>
            <expression>true</expression>
        </assignment>
        <label>Set Flag for Filtered Course Offering Participant Results</label>
        <name>SetFlagforFilteredCourseOfferingParticipantResults</name>
        <parentStep>ListGroup</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>2</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>BusinessKnowledgeModel</stepType>
    </steps>
    <steps>
        <actionType>AssignParameterValues</actionType>
        <assignment>
            <assignedParameter>COP_Filtered__std</assignedParameter>
            <expression>true</expression>
        </assignment>
        <label>Set Flag for Filtered Course Offering Participants</label>
        <name>SetFlagforFilteredCourseOfferingParticipants</name>
        <parentStep>ListGroup7</parentStep>
        <resultIncluded>false</resultIncluded>
        <sequenceNumber>2</sequenceNumber>
        <shouldExposExecPathMsgOnly>true</shouldExposExecPathMsgOnly>
        <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <stepType>BusinessKnowledgeModel</stepType>
    </steps>
    <variables>
        <collection>false</collection>
        <dataType>Text</dataType>
        <description>Batch Job ID</description>
        <input>true</input>
        <name>batchJobId</name>
        <output>false</output>
        <type>Variable</type>
    </variables>
    <versionNumber>1</versionNumber>
</ExpressionSetDefinitionVersion>
